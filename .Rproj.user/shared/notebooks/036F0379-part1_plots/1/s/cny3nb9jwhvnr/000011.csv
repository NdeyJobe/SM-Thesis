"0","# Load necessary libraries"
"0","library(gt)"
"2","Warning: package ‘gt’ was built under R version 4.4.1"
"0","library(dplyr)"
"2","
Attaching package: ‘dplyr’

"
"2","The following objects are masked from ‘package:stats’:

    filter, lag

"
"2","The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

"
"0","# Define the necessary structure for Asian population only"
"0","data_asian <- data.frame("
"0","  Model = rep(c(""MDRD"", ""CKD-EPI-2009"", ""CKD-EPI-2021""), each = 5),"
"0","  Population = c(""CKD Very High Risk"", ""CKD High Risk"", ""CKD Medium Risk"", ""Diabetic"", ""Hypertensive"","
"0","                 ""CKD Very High Risk"", ""CKD High Risk"", ""CKD Medium Risk"", ""Diabetic"", ""Hypertensive"","
"0","                 ""CKD Very High Risk"", ""CKD High Risk"", ""CKD Medium Risk"", ""Diabetic"", ""Hypertensive""),"
"0","  C_Statistic = c(0.82, 0.80, 0.78, 0.84, 0.81, "
"0","                  0.82, 0.81, 0.79, 0.83, 0.82, "
"0","                  0.79, 0.78, 0.76, 0.82, 0.79),"
"0","  CI_Lower = c(0.72, 0.71, 0.70, 0.73, 0.76, "
"0","               0.71, 0.74, 0.73, 0.78, 0.77, "
"0","               0.65, 0.66, 0.65, 0.69, 0.70),"
"0","  CI_Upper = c(0.92, 0.89, 0.87, 0.90, 0.88, "
"0","               0.91, 0.88, 0.85, 0.87, 0.89, "
"0","               0.89, 0.88, 0.85, 0.87, 0.85)"
"0",")"
"0",""
"0","# Add formatted columns for display"
"0","data_asian <- data_asian %>%"
"0","  mutate("
"0","    CI_Label = sprintf(""%.2f (%.2f–%.2f)"", C_Statistic, CI_Lower, CI_Upper),"
"0","    Error_Bar = case_when("
"0","      Model == ""MDRD"" ~ paste0(""⎯"", strrep(""⎯"", round((C_Statistic - CI_Lower) / 0.01)), ""●"", strrep(""⎯"", round((CI_Upper - C_Statistic) / 0.01)), ""⎯""),"
"0","      Model == ""CKD-EPI-2009"" ~ paste0(""⎯"", strrep(""⎯"", round((C_Statistic - CI_Lower) / 0.01)), ""●"", strrep(""⎯"", round((CI_Upper - C_Statistic) / 0.01)), ""⎯""),"
"0","      Model == ""CKD-EPI-2021"" ~ paste0(""⎯"", strrep(""⎯"", round((C_Statistic - CI_Lower) / 0.01)), ""●"", strrep(""⎯"", round((CI_Upper - C_Statistic) / 0.01)), ""⎯"")"
"0","    )"
"0","  )"
"0",""
"0","# Remove repeated ""Model"" column values except for the first instance in each group"
"0","data_asian_clean <- data_asian %>%"
"0","  group_by(Model) %>%"
"0","  mutate(Model = ifelse(row_number() == 0, Model, """")) %>%"
"0","  ungroup()"
"0",""
"0","# Create gt table with custom color styling based on row grouping"
"0","gt_table_asian <- gt(data_asian_clean %>% select(-C_Statistic, -CI_Lower, -CI_Upper)) %>%"
"0","  tab_header(title = md(""**Predictive Accuracy for Asian Population - C Statistic (95% CI)**"")) %>%"
"0","  cols_label("
"0","    Population = md(""**Cohort / Population**""),"
"0","    Model = md(""**Prediction Model**""),"
"0","    CI_Label = md(""**C Statistic (95% CI)**""),"
"0","    Error_Bar = md(""**Error Bar with Point Estimate**"")"
"0","  ) %>%"
"0","  tab_row_group("
"0","    label = md(""**CKD-EPI-2021**""),"
"0","    rows = 11:15"
"0","  ) %>%"
"0","  tab_row_group("
"0","    label = md(""**CKD-EPI-2009**""),"
"0","    rows = 6:10"
"0","  ) %>%"
"0","  tab_row_group("
"0","    label = md(""**MDRD**""),"
"0","    rows = 1:5"
"0","  ) %>%"
"0","  fmt_markdown(columns = c(Population, Model)) %>%"
"0","  # Add colors specifically based on Model groupings"
"0","  tab_style("
"0","    style = cell_text(weight = ""bold"", color = ""red""),"
"0","    locations = cells_body(columns = vars(Error_Bar), rows = 11:15) # CKD-EPI-2021"
"0","  ) %>%"
"0","  tab_style("
"0","    style = cell_text(weight = ""bold"", color = ""green""),"
"0","    locations = cells_body(columns = vars(Error_Bar), rows = 6:10) # CKD-EPI-2009"
"0","  ) %>%"
"0","  tab_style("
"0","    style = cell_text(weight = ""bold"", color = ""blue""),"
"0","    locations = cells_body(columns = vars(Error_Bar), rows = 1:5) # MDRD"
"0","  ) %>%"
"0","  tab_source_note("
"0","    source_note = md(""**Scale:** 0 — 0.5 — 1"")"
"0","  ) %>%"
"0","  tab_style("
"0","    style = cell_text(size = px(14), color = ""gray"", align = ""center""),"
"0","    locations = cells_source_notes()"
"0","  ) %>%"
"0","  tab_options("
"0","    table.font.size = px(14),"
"0","    data_row.padding = px(8),"
"0","    heading.title.font.size = px(20),"
"0","    column_labels.font.size = px(18)"
"0","  )"
"2","Warning: [38;5;232mSince gt v0.3.0, `columns = vars(...)` has been deprecated.
[36m•[38;5;232m Please use `columns = c(...)` instead.[39m"
"2","Warning: [38;5;232mSince gt v0.3.0, `columns = vars(...)` has been deprecated.
[36m•[38;5;232m Please use `columns = c(...)` instead.[39m"
"2","Warning: [38;5;232mSince gt v0.3.0, `columns = vars(...)` has been deprecated.
[36m•[38;5;232m Please use `columns = c(...)` instead.[39m"
"0","# Display the table"
"0","gt_table_asian"
