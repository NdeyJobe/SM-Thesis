"0","# Load necessary libraries"
"0","library(gt)"
"0","library(dplyr)"
"0","library(magick)"
"0","library(webshot2)  # Required to capture HTML as an image"
"0",""
"0",""
"0","# Define the data structure for both 2-year and 5-year predictions"
"0","#data_asian_2yr <- data_asian"
"0","#data_asian_5yr <- data_asian"
"0",""
"0","# Create a function to generate a gt table"
"0","generate_gt_table <- function(data, title) {"
"0","  data %>%"
"0","    group_by(Model) %>%"
"0","    mutate(Model = ifelse(row_number() == 0, Model, """")) %>%"
"0","    ungroup() %>%"
"0","    select(-C_Statistic, -CI_Lower, -CI_Upper) %>%  # Keep structure as requested"
"0","    gt() %>%"
"0","    tab_header(title = md(paste0(""**Predictive Accuracy for Asian Population - "", title, ""**""))) %>%"
"0","    cols_label("
"0","      Population = md(""**Cohort / Population**""),"
"0","      Model = md(""**Prediction Model**""),"
"0","      CI_Label = md(""**C Statistic (95% CI)**""),"
"0","      Error_Bar = md(""**Error Bar with Point Estimate**"")"
"0","    ) %>%"
"0","    tab_row_group(label = md(""**CKD-EPI-2021**""), rows = 11:15) %>%"
"0","    tab_row_group(label = md(""**CKD-EPI-2009**""), rows = 6:10) %>%"
"0","    tab_row_group(label = md(""**MDRD**""), rows = 1:5) %>%"
"0","    fmt_markdown(columns = c(Population, Model)) %>%"
"0","    tab_style(style = cell_text(weight = ""bold"", color = ""red""), locations = cells_body(columns = c(Error_Bar), rows = 11:15)) %>%"
"0","    tab_style(style = cell_text(weight = ""bold"", color = ""green""), locations = cells_body(columns = c(Error_Bar), rows = 6:10)) %>%"
"0","    tab_style(style = cell_text(weight = ""bold"", color = ""blue""), locations = cells_body(columns = c(Error_Bar), rows = 1:5)) %>%"
"0","    tab_options("
"0","      table.font.size = px(14),"
"0","      data_row.padding = px(8),"
"0","      heading.title.font.size = px(20),"
"0","      column_labels.font.size = px(18)"
"0","    )"
"0","}"
"0",""
"0","# Generate the tables for 2-year and 5-year predictions"
"0","table_2yr <- generate_gt_table(data_asian_2yr, ""2-Year Prediction"")"
"2","Error: object 'data_asian_2yr' not found
"
